/* Wrapper, Header, Title, Subtitle, Step Text - остаются без изменений */
.wrapper { background-color: #111827; color: #ffffff; padding: 80px 40px; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; overflow: hidden; }
.header { text-align: center; margin-bottom: 60px; }
.title { font-size: 48px; font-weight: bold; margin: 0 0 16px; }
.subtitle { font-size: 18px; color: #9ca3af; max-width: 600px; margin: 0 auto; }
.stepsContainer { display: grid; grid-template-columns: repeat(5, 1fr); gap: 30px; text-align: center; position: relative; margin-bottom: 40px; }
.step { transition: opacity 0.4s ease; }
.inactive { opacity: 0.3; }
.active { opacity: 1; }
.stepTitle { font-size: 20px; font-weight: bold; margin: 16px 0 8px; transition: color 0.4s ease; }
.stepDescription { font-size: 14px; line-height: 1.5; transition: color 0.4s ease; }
.inactive .stepTitle, .inactive .stepDescription { color: #9ca3af; }
.active .stepTitle { color: #ffffff; }

/* --- НОВЫЕ СТИЛИ ДЛЯ КРУГОВ --- */

.circle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
  font-size: 24px;
  font-weight: bold;
  /* Базовая граница - всегда пунктирная */
  border: 2px dotted #4b5563;
  background-color: transparent;
  transition: border-color 0.4s ease, background-color 0.4s ease, color 0.4s ease;
  position: relative;
}

/* Когда шаг становится активным (пройден или текущий), его пунктир становится зеленым */
.activeCircle {
  border-color: #22c55e;
}

/* Псевдо-элемент для рисования сплошных СТАТИЧЕСКИХ сегментов */
.circleCompleted::before {
  content: '';
  position: absolute;
  top: -2px; left: -2px; right: -2px; bottom: -2px;
  border-radius: 50%;
  /* --completed-quarters - это индекс шага (0, 1, 2, 3) */
  /* Рисуем N сплошных четвертей */
  background-image: conic-gradient(
    #22c55e calc(var(--completed-quarters) * 90deg), 
    transparent 0
  );
  /* Маска, чтобы сделать обводку */
  mask: radial-gradient(transparent 56px, black 57px);
  -webkit-mask: radial-gradient(transparent 56px, black 57px);
}

/* Псевдо-элемент для АНИМАЦИИ ТЕКУЩЕГО сегмента */
.circleCurrent::after {
  content: '';
  position: absolute;
  top: -2px; left: -2px; right: -2px; bottom: -2px;
  border-radius: 50%;
  
  /* --completed-quarters - стартовый угол для анимации */
  /* --animation-angle - угол самой анимации (0-90deg) */
  background-image: conic-gradient(
    from calc(var(--completed-quarters) * 90deg),
    #22c55e var(--animation-angle, 0deg),
    transparent 0
  );
  mask: radial-gradient(transparent 56px, black 57px);
  -webkit-mask: radial-gradient(transparent 56px, black 57px);
}

/* Стиль для ПОСЛЕДНЕГО шага, когда он ПОЛНОСТЬЮ завершен */
.circleFinalCompleted {
  background-color: #6ee7b7;
  border-color: #6ee7b7;
  color: #111827;
}
/* Убираем псевдо-элементы, когда круг залит */
.circleFinalCompleted::before, .circleFinalCompleted::after {
  display: none;
}


/* --- СТИЛИ СЛАЙДЕРА (без изменений) --- */
.sliderWrapper { display: flex; justify-content: center; padding: 0 10%; }
.slider { -webkit-appearance: none; appearance: none; width: 100%; height: 4px; border-radius: 2px; outline: none; transition: opacity 0.2s; }
.slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; background: #22c55e; border-radius: 50%; cursor: pointer; border: 3px solid #111827; box-sizing: border-box; }
.slider::-moz-range-thumb { width: 20px; height: 20px; background: #22c55e; border-radius: 50%; cursor: pointer; border: 3px solid #111827; box-sizing: border-box; }